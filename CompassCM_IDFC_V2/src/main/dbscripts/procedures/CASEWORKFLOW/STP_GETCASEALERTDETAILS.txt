CREATE OR REPLACE PROCEDURE STP_GETCASEALERTDETAILS(
i_vcCaseNo		 IN VARCHAR2,			i_vcUserCode     IN VARCHAR2, 
i_vcGroupCode    IN VARCHAR2,			i_vcIPAddress    IN VARCHAR2,	   
io_cuResultSet1  IN OUT SYS_REFCURSOR,	io_cuResultSet2  IN OUT SYS_REFCURSOR,
io_cuResultSet3  IN OUT SYS_REFCURSOR

---EXEC STP_GETCASEALERTDETAILS('240','','','',:RC1,:RC2,:RC3);

)
AS 
vcSql VARCHAR2(32000);


 BEGIN

  OPEN io_cuResultSet1 FOR
SELECT 'Alert Details' TABNAMES
  FROM DUAL;
  
  OPEN io_cuResultSet2 FOR
SELECT 'T' TABDISPLAY
  FROM DUAL;

  OPEN io_cuResultSet3 FOR
SELECT ALERTNO ALERTNUMBER, ALERTMESSAGE, ALERTPRIORITY, INSTRUMENTCODE, INSTRUMENTNAME, ACCOUNTNO, CUSTOMERID, CUSTOMERNAME,
	   BRANCHCODE, BRANCHNAME, TRANSACTIONNO, TRANSACTIONDATETIME, AMOUNT, ALERTDATE, ALERTCODE, ALERTSTATUS, DEPOSITORWITHDRAWAL,
	   CALCULATEDVALUE, BENCHMARKVALUE, PRODUCTCODE 
  FROM COMAML.TB_ALERTSGENERATED WHERE ROWNUM < 6;

END STP_GETCASEALERTDETAILS;
/
