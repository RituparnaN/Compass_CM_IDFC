CREATE OR REPLACE PROCEDURE STP_GETEMPLOYEEDETAILS(
i_vcEmpCode	     IN VARCHAR2,			i_vcUserCode     IN VARCHAR2, 
i_vcGroupCode    IN VARCHAR2,			i_vcIPAddress    IN VARCHAR2,	   
io_cuResultSet1  IN OUT SYS_REFCURSOR,	io_cuResultSet2  IN OUT SYS_REFCURSOR,
io_cuResultSet3  IN OUT SYS_REFCURSOR,  io_cuResultSet4  IN OUT SYS_REFCURSOR

---EXEC STP_GETEMPLOYEEDETAILS('0041566','','','',:RC1,:RC2,:RC3,:RC4);

)
AS 
vcSql VARCHAR2(32000);

 BEGIN
  
  OPEN io_cuResultSet1 FOR
SELECT 'Employee Information ^~^ Employee Address Details' TABNAMES
  FROM DUAL;
  
  OPEN io_cuResultSet2 FOR
SELECT 'D^~^D' TABDISPLAY
  FROM DUAL;

  OPEN io_cuResultSet3 FOR
SELECT EMPCODE, EMPNAME, EMP_DESIGNATION, BRANCHCODE, DATEOFBIRTH, BIRTHPLACE,
	   FATHERNAME, MOTHERNAME, PANNO, NATIONALITY, SEX, DEPARTMENT, AML_FLAG 
  FROM COMAML.TB_EMPLOYEEMASTER WHERE EMPCODE = i_vcEmpCode;
  
   OPEN io_cuResultSet4 FOR
SELECT EMP_ADDRESSLINE1, EMP_ADDRESSLINE2, EMP_ADDRESSLINE3, EMP_CITY,
	   EMP_STATE, EMP_COUNTRY, EMP_PINCODE, EMP_EMAILID, PANNO, EMP_PHONENO, EMP_FAXNO 
  FROM COMAML.TB_EMPLOYEEMASTER WHERE EMPCODE = i_vcEmpCode;

END STP_GETEMPLOYEEDETAILS;
/
