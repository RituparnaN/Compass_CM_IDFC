CREATE OR REPLACE PROCEDURE STP_GETCUSTOMERTYPEDETAILS(
i_vcCustType	 IN VARCHAR2,			i_vcUserCode     IN VARCHAR2, 
i_vcGroupCode    IN VARCHAR2,			i_vcIPAddress    IN VARCHAR2,	   
io_cuResultSet1  IN OUT SYS_REFCURSOR,	io_cuResultSet2  IN OUT SYS_REFCURSOR,
io_cuResultSet3  IN OUT SYS_REFCURSOR

---EXEC STP_GETCUSTOMERTYPEDETAILS('EI','','','',:RC1,:RC2,:RC3);

)
AS 
vcSql VARCHAR2(32000);

 BEGIN
  
  OPEN io_cuResultSet1 FOR
SELECT 'Customer Type Details' TABNAMES
  FROM DUAL;
  
  OPEN io_cuResultSet2 FOR
SELECT 'D' TABDISPLAY
  FROM DUAL;

  OPEN io_cuResultSet3 FOR
SELECT CUSTOMERTYPE, DESCRIPTION, RISKRATING, CUSTOMERGROUPTYPE
  FROM COMAML.TB_CUSTOMERTYPEMASTER WHERE UPPER(CUSTOMERTYPE) = UPPER(i_vcCustType);
  
END STP_GETCUSTOMERTYPEDETAILS;
/
