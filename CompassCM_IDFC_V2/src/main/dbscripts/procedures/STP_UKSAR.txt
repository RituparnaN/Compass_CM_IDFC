CREATE OR REPLACE PROCEDURE STP_GETUKSARDATA (
i_vcCASENO    				IN VARCHAR2,		i_vcUPDATEDBY				IN VARCHAR2,
i_vcIPAddress    			IN VARCHAR2, 		i_vcGroupCode    	  	    IN VARCHAR2,	    
i_vcResultSet  	   			IN OUT SYS_REFCURSOR)
-- EXEC STP_GETUKSARDATA('','','','', :rc);
AS

vcSql Varchar2(4000):= '';

BEGIN
	    vcSql := 'SELECT INSTITUTIONNAME, INSTITUTIONTYPE, REGULATOR, REGULATORID, CD1FORENAME, '||
				 '	     CD1SURNAME, CD1POSITION, CD1ADDRESS, CD1TELEPHONE, CD1FAX, '||
				 '		 CD1EMAIL, CD2FORENAME, CD2SURNAME, CD2POSITION, CD2ADDRESS, '||
				 '		 CD2TELEPHONE, CD2FAX, CD2EMAIL, REPORTINGINSTITUTION, YOURREF, '||
				 '		 DISCLOSUREREASON1, BRANCHOFFICE, ISCONSENTREQ, DISCLOSUREDATE, DISCLOSUREREPORTTYPE, '||
				 '		 DISCLOSUREID1, DISCLOSUREID2, DISCLOSUREID3, NOOFSUBDETAILSMAINSUB, NOOFADDDETAILSMAINSUB, '||
				 '		 NOOFSUBDETAILSASSOSUB, NOOFADDDETAILSASSOSUB, NOOFTNXDETAIL, NOOFREASONFORDISCSHEETS, NOOFPAGES, '||
				 '		 SUBJECTTYPE, SUBJECTTYPENUM1, SUBJECTTYPENUM2, INDVSUBSTATUS, IDSURNAME, '||
				 '		 IDFORENAME1, IDFORENAME2, OCCUPATION, DOB, GENDER, '||
				 '		 TITLE, OTHERTITLE, REASONFORASSO1, LEGALENTITYSTATUS, LEGALENTITYNAME, '||
				 '		 LEGALENTITYNO, VATNO, COUNTRYOFREG, BUSINESSTYPE, REASONFORASSO2, '||
				 '		 SUBJECTREFTO, ASSOCIATENO, SUBJECTNAME, PREMISENONAME1, CURRENTPREMISE1, '||
				 '		 TYPEOFPREMISE1, STREET1, CITYORTOWN1, COUNTY1, POSTCODE1, '||
				 '		 COUNTRY1, PREMISENONAME2, CURRENTPREMISE2, TYPEOFPREMISE2, STREET2, '||
				 '		 CITYORTOWN2, COUNTY2, POSTCODE2, COUNTRY2, PREMISENONAME3, '||
				 '		 CURRENTPREMISE3, TYPEOFPREMISE3, STREET3, CITYORTOWN3, COUNTY3, '||
				 '		 POSTCODE3, COUNTRY3, INFOTYPE1, UNQINFOIDENTIFIER1, EXTRAINFO1, '||
				 '		 INFOTYPE2, UNQINFOIDENTIFIER2, EXTRAINFO2, MAISUBACINSTITUTIONNAME, ACCOUNTNAME, '||
				 '		 SORTCODE, ACCOUNTNO, BUSIRELATIONSTART, BUSIRELATIONFINISH, ACCBAL, '||
				 '		 BALDATE, TURNOVERPERIOD, CREDITTURNOVER, DEBITTURNOVER, ACTIVITYTYPE1, '||
				 '		 ACTIVITYDATE1, AMOUNT1, CURRENCY1, TNXCREDITDEBIT1, OTHERPARTYNAME1, '||
				 '		 TNXINSTITUTIONNAME1, TNXACCNO1, ACTIVITYTYPE2, ACTIVITYDATE2, AMOUNT2, '||
 				 '		 CURRENCY2, TNXCREDITDEBIT2, OTHERPARTYNAME2, TNXINSTITUTIONNAME2, TNXACCNO2, '||
				 '		 ACTIVITYTYPE3, ACTIVITYDATE3, AMOUNT3, CURRENCY3, TNXCREDITDEBIT3, '||
				 '		 OTHERPARTYNAME3, TNXINSTITUTIONNAME3, TNXACCNO3, ACTIVITYTYPE4, ACTIVITYDATE4, '||
				 '		 AMOUNT4, CURRENCY4, TNXCREDITDEBIT4, OTHERPARTYNAME4, TNXINSTITUTIONNAME4, '||
				 '		 TNXACCNO4, MAINSUBNAME, DRUGS, MISSINGTRADER, IMMIGRATION, '||
				 '		 TOBACCOEXCISEFRAUD, PERSONALTAXFRAUD, CORPORATETAXFRAUD, OTHEROFFENCES, DISCLOSUREREASON2, '||
				 '		 MAINSUBNAMECONT, DISCLOSUREREASONCONT, CASENO, UPDATEDBY, UPDATEDTIMESTAMP '||
                 '  FROM TB_UKSAR '||
	             ' WHERE ROWNUM = 1';
    
    OPEN i_vcResultSet FOR vcSql;

END STP_GETUKSARDATA;
/
