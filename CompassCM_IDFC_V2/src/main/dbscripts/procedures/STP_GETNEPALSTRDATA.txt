CREATE OR REPLACE PROCEDURE COMAML.STP_GETNEPALSTRDATA (
i_vcCASENO     IN VARCHAR2,	     i_vcUPDATEDBY IN VARCHAR2,
i_vcIPAddress  IN VARCHAR2, 	     i_vcGroupCode IN VARCHAR2,
i_vcResultSet1 IN OUT SYS_REFCURSOR
)
-- EXEC STP_GETNEPALSTRDATA('','','','', :rc1);
AS

vcSql1 VARCHAR2(4000);

BEGIN
	    vcSql1 := ' SELECT CASENO, NEPSTRREPINSTNAME, NEPSTRCUSTNAME, NEPSTRCUSTADDRESS, '||
		      '	       NEPSTRCUSTPROFESSION, NEPSTRCUSTNATIONALITY, NEPSTRCUSTOTHERACCNO, '||
		      '	       NEPSTRCUSTOTHERBSNS, NEPSTRCUSTGUARDIANNAME, NEPSTRCUSTDOB, '||
		      '	       NEPSTRACCORTXNNO, NEPSTRACCORTXNNATURE, NEPSTROWNERSHIPNATURE, '||
		      '	       NEPSTRTXNDATE, NEPSTROTHERACCTXNNO, NEPSTRAMOUNT, NEPSTROTHERACCTXNDETAIL, '||
		      '	       NEPSTRREASONFORSUSPICION, NEPSTROTHERSUSRSNDETAIL, NEPSTRRSNSUMMARY, '||
		      '	       NEPSTRSUSACTINFO, NEPSTRIMPACTONBANK, NEPSTRCOMPLOFFISIGN, '||
		      '	       NEPSTRNEPSTRCOMPLOFFINAME, NEPSTRACTIONDATE, NEPSTRCOMPLOFFIPHNO, '||
		      '        NEPSTRCOMPLOFFIEMAIL, NEPSTRCOMPLOFFIFAX, UPDATEDBY, FUN_DATETOCHAR(UPDATEDTIMESTAMP) UPDATEDTIMESTAMP'||
                      '	  FROM COMAML.TB_NEPAL_STR '||
	              '  WHERE ROWNUM = 1';

    OPEN i_vcResultSet1 FOR vcSql1;
   
END STP_GETNEPALSTRDATA;

/
